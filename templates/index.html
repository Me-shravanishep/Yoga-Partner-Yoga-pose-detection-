<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yoga Pose Detection - TEAM CODEASTRA</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <header>
        <div class="container">
            <h1>ðŸ§˜ Yoga Pose Detection</h1>
            <p class="subtitle">Real-time pose analysis powered by MediaPipe and OpenCV</p>
            <p class="team">TEAM CODEASTRA</p>
        </div>
    </header>

    <main class="container">
        <p><a href="/analyze" style="color:#9ecbff;text-decoration:underline;">Analyze a Video URL â†’</a></p>
        <!-- Video Feed Section -->
        <section class="video-section">
            <h2>Live Pose Detection</h2>
            <div class="video-container">
                <img id="videoFeed" src="{{ url_for('video_feed') }}" alt="Video Feed">
            </div>
            <div class="controls">
                <button id="startBtn" onclick="startVideo()">Start Detection</button>
                <button id="stopBtn" onclick="stopVideo()">Stop Detection</button>
            </div>
        </section>

        <!-- User Registration Section -->
        <section class="user-section">
            <h2>User Registration</h2>
            <form id="userForm">
                <div class="form-group">
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="age">Age:</label>
                    <input type="number" id="age" name="age" required>
                </div>
                <div class="form-group">
                    <label for="experience">Experience Level:</label>
                    <select id="experience" name="experience" required>
                        <option value="beginner">Beginner</option>
                        <option value="intermediate">Intermediate</option>
                        <option value="advanced">Advanced</option>
                    </select>
                </div>
                <button type="submit">Save User</button>
            </form>
            <div id="message"></div>
        </section>

        <!-- Stats Section -->
        <section class="stats-section">
            <h2>System Status</h2>
            <div id="healthInfo" class="health-info">
                <p>Loading system information...</p>
            </div>
        </section>

        <!-- API Endpoints Info -->
        <section class="info-section">
            <h2>Available Endpoints</h2>
            <ul>
                <li><strong>GET /</strong> - Main landing page (this page)</li>
                <li><strong>GET /health</strong> - System health check and library versions</li>
                <li><strong>GET /capture</strong> - Single frame capture test</li>
                <li><strong>GET /video_feed</strong> - Live MJPEG video stream with pose detection</li>
                <li><strong>POST /api/save_user</strong> - Save user data to JSON</li>
                <li><strong>GET /api/get_users</strong> - Retrieve all saved users</li>
            </ul>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 TEAM CODEASTRA - Yoga Pose Detection System</p>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
